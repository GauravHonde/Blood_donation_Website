<%- include('navbar.ejs') %>

    <div class="container my-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card shadow-lg border-0">

                    <!-- Header -->
                    <div class="card-header bg-danger text-white text-center">
                        <h4 class="mb-0">
                            <i class="bi bi-heart-pulse-fill me-2"></i>
                            Blood Donation Contact Information
                        </h4>
                    </div>

                    <!-- Body -->
                    <div class="card-body p-4">
                        <form action="/admin/contact_save" method="post">

                            <!-- Address -->
                            <div class="mb-3">
                                <label class="form-label fw-semibold">
                                    <i class="bi bi-geo-alt-fill me-2 text-danger"></i>Address
                                </label>
                                <input type="text" name="address" class="form-control" placeholder="Enter address"
                                    required>
                            </div>

                            <!-- Emergency Helpline -->
                            <div class="mb-3">
                                <label class="form-label fw-semibold">
                                    <i class="bi bi-telephone-fill me-2 text-danger"></i>Emergency Helpline Number
                                </label>
                                <input type="text" name="helpline" class="form-control" placeholder="+91 XXXXX XXXXX"
                                    required>
                            </div>

                            <!-- Admin Number -->
                            <div class="mb-3">
                                <label class="form-label fw-semibold">
                                    <i class="bi bi-headset me-2 text-danger"></i>Administration Number
                                </label>
                                <input type="text" name="admin_number" class="form-control"
                                    placeholder="Administration contact" required>
                            </div>

                            <!-- Fax -->
                            <div class="mb-3">
                                <label class="form-label fw-semibold">
                                    <i class="bi bi-printer-fill me-2 text-danger"></i>Fax Number
                                </label>
                                <input type="text" name="fax_number" class="form-control" placeholder="Fax number"
                                    required>
                            </div>

                            <!-- Emails Row -->
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="bi bi-envelope-fill me-2 text-danger"></i>General Email
                                    </label>
                                    <input type="email" name="email" class="form-control"
                                        placeholder="info@blooddonation.com" required>
                                </div>

                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-semibold">
                                        <i class="bi bi-envelope-exclamation-fill me-2 text-danger"></i>Emergency Email
                                    </label>
                                    <input type="email" name="emergency_email" class="form-control"
                                        placeholder="emergency@blooddonation.com" required>
                                </div>
                            </div>

                            <!-- Embed Link -->
                            <div class="mb-4">
                                <label class="form-label fw-semibold">
                                    <i class="bi bi-link-45deg me-2 text-danger"></i>Embed Map / Email Link
                                </label>
                                <input type="text" name="embed_link" class="form-control" placeholder="Paste embed link"
                                    required>
                            </div>

                            <!-- Button -->
                            <div class="text-center">
                                <button type="submit" class="btn btn-danger px-5 py-2">
                                    <i class="bi bi-save me-2"></i>Save Contact Info
                                </button>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container my-4">
        <div class="card shadow-lg border-0">

            <!-- Header -->
            <div class="card-header bg-danger text-white d-flex justify-content-between align-items-center">
                <h5 class="mb-0">
                    <i class="bi bi-telephone-fill me-2"></i>Contact Information
                </h5>
            </div>

            <!-- Table -->
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-bordered table-hover align-middle mb-0 text-center">

                        <thead class="table-dark">
                            <tr>
                                <th>#</th>
                                <th><i class="bi bi-geo-alt-fill"></i> Address</th>
                                <th><i class="bi bi-telephone-fill"></i> Helpline</th>
                                <th><i class="bi bi-headset"></i> Admin</th>
                                <th><i class="bi bi-printer-fill"></i> Fax</th>
                                <th><i class="bi bi-envelope-fill"></i> Email</th>
                                <th><i class="bi bi-envelope-exclamation-fill"></i> Emergency</th>
                                <th><i class="bi bi-link-45deg"></i> Embed</th>
                                <th>Action</th>
                            </tr>
                        </thead>

                        <tbody>
                            <% for(var i=0; i<info.length; i++) { %>
                                <tr>
                                    <td class="fw-bold">
                                        <%= i + 1 %>
                                    </td>

                                    <td class="text-start">
                                        <%= info[i].address %>
                                    </td>

                                    <td>
                                        <span class="badge bg-success">
                                            <i class="bi bi-telephone me-1"></i>
                                            <%= info[i].helpline %>
                                        </span>
                                    </td>

                                    <td>
                                        <span class="badge bg-primary">
                                            <%= info[i].admin_number %>
                                        </span>
                                    </td>

                                    <td>
                                        <span class="badge bg-secondary">
                                            <%= info[i].fax_number %>
                                        </span>
                                    </td>

                                    <td>
                                        <a href="mailto:<%= info[i].email %>" class="text-decoration-none">
                                            <%= info[i].email %>
                                        </a>
                                    </td>

                                    <td>
                                        <a href="mailto:<%= info[i].emergency_email %>"
                                            class="text-danger fw-semibold text-decoration-none">
                                            <%= info[i].emergency_email %>
                                        </a>
                                    </td>

                                    <td>
                                        <a href="<%= info[i].embed_link %>" target="_blank"
                                            class="btn btn-sm btn-outline-dark">
                                            View
                                        </a>
                                    </td>

                                    <td>
                                        <div class="d-flex justify-content-center gap-2">
                                            <a href="/admin/contact_update/<%= info[i].contact_id %>"
                                                class="btn btn-sm btn-warning">
                                                <i class="bi bi-pencil-square"></i>
                                            </a>

                                            <a href="/admin/contact_delete/<%= info[i].contact_id %>"
                                                class="btn btn-sm btn-danger"
                                                onclick="return confirm('Are you sure you want to delete this contact?')">
                                                <i class="bi bi-trash-fill"></i>
                                            </a>
                                        </div>
                                    </td>

                                </tr>
                                <% } %>
                        </tbody>

                    </table>
                </div>
            </div>
        </div>
    </div>

    <%- include('footer.ejs') %>